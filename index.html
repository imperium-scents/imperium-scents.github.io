<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imperium Scents | Tienda Oficial</title>
    <script src="https://checkout.culqi.com"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #fafafa; margin: 0; text-align: center; color: #333; }
        header { background: #000; color: #d4af37; padding: 40px; border-bottom: 4px solid #d4af37; }
        h1 { margin: 0; letter-spacing: 4px; text-transform: uppercase; font-size: 32px; }
        .subtitulo { color: #d4af37; font-size: 14px; letter-spacing: 2px; }
        .contenedor { display: flex; flex-wrap: wrap; justify-content: center; gap: 25px; padding: 40px 20px; max-width: 1200px; margin: 0 auto; }
        .tarjeta { background: #fff; border: 1px solid #eee; width: 260px; padding: 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: 0.3s; }
        .precio { font-size: 24px; color: #d4af37; font-weight: bold; margin: 15px 0; }
        .btn-comprar { background: #000; color: #fff; border: 1px solid #000; padding: 12px; width: 100%; border-radius: 5px; cursor: pointer; font-weight: bold; text-transform: uppercase; }
        
        /* FORMULARIO DE ENV√çO (OCULTO AL INICIO) */
        #formulario-exito { display: none; background: #fff; max-width: 450px; margin: 30px auto; padding: 25px; border: 2px solid #d4af37; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .campo { margin-bottom: 15px; text-align: left; }
        .campo label { display: block; font-weight: bold; margin-bottom: 5px; }
        .campo input, .campo select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        .btn-enviar-datos { background: #25d366; color: white; border: none; padding: 15px; width: 100%; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 16px; }
    </style>
</head>
<body>

<header id="cabecera">
    <h1>IMPERIUM SCENTS</h1>
    <p class="subtitulo">FRAGANCIAS ‚Ä¢ MODA ‚Ä¢ ACCESORIOS</p>
</header>

<!-- ESTE FORMULARIO APARECER√Å LUEGO DEL PAGO -->
<div id="formulario-exito">
    <h2 style="color: #d4af37;">¬°Pago Exitoso! üéâ</h2>
    <p>Por favor, completa tus datos para el env√≠o:</p>
    <div class="campo">
        <label>Nombre del que recibe:</label>
        <input type="text" id="envio_nombre" placeholder="Nombre completo">
    </div>
    <div class="campo">
        <label>Agencia de Env√≠o:</label>
        <select id="envio_agencia">
            <option value="SHALOM">SHALOM (Recojo en agencia)</option>
            <option value="OLVA">OLVA COURIER (A domicilio)</option>
        </select>
    </div>
    <div class="campo">
        <label>Ciudad y Direcci√≥n:</label>
        <input type="text" id="envio_destino" placeholder="Ej. Huaraz - Jr. Comercio 123">
    </div>
    <button class="btn-enviar-datos" onclick="enviarWhatsApp()">Enviar datos por WhatsApp üì±</button>
</div>

<div class="contenedor" id="tienda">
    <div class="tarjeta">
        <h3>Imperial Gold</h3>
        <p>Esencia amaderada 100ml</p>
        <div class="precio">S/ 180.00</div>
        <button class="btn-comprar" onclick="pagar(18000, 'Imperial Gold')">Comprar ahora</button>
    </div>
    <!-- Puedes agregar m√°s tarjetas aqu√≠ -->
</div>

<script>
    // ‚ö†Ô∏è PON TU LLAVE PK_TEST AQU√ç
    Culqi.publicKey = 'pk_test_AQUI_VA_TU_CODIGO';

    function pagar(monto, producto) {
        Culqi.settings({
            title: 'Imperium Scents',
            currency: 'PEN',
            description: producto,
            amount: monto
        });
        Culqi.open();
    }

    function culqi() {
        if (Culqi.token) {
            // EL PAGO FUE EXITOSO: OCULTAMOS TIENDA Y MOSTRAMOS FORMULARIO
            document.getElementById('tienda').style.display = 'none';
            document.getElementById('cabecera').style.display = 'none';
            document.getElementById('formulario-exito').style.display = 'block';
            console.log("Pago exitoso. ID:", Culqi.token.id);
        } else {
            alert("Error en el pago: " + Culqi.error.message);
        }
    };

    function enviarWhatsApp() {
        const nombre = document.getElementById('envio_nombre').value;
        const agencia = document.getElementById('envio_agencia').value;
        const destino = document.getElementById('envio_destino').value;

        if(nombre === "" || destino === "") {
            alert("Por favor completa los datos de env√≠o.");
            return;
        }

        // REEMPLAZA ESTE N√öMERO CON TU WHATSAPP (CON EL 51 ADELANTE)
        const miNumero = "51900000000"; 
        const mensaje = `Hola *Imperium Scents*, acabo de realizar mi pago. Aqu√≠ mis datos de env√≠o:\n\n*Nombre:* ${nombre}\n*Agencia:* ${agencia}\n*Destino:* ${destino}`;
        
        const urlWhastapp = `https://api.whatsapp.com{miNumero}&text=${encodeURIComponent(mensaje)}`;
        window.open(urlWhastapp, '_blank');
    }
</script>

</body>
</html>
